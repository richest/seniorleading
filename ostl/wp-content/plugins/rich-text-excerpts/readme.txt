=== Rich Text Excerpts ===
Contributors: bjorsq
Donate Link: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=QAQ2WC8UHFMEQ
Tags: excerpt, editor, TinyMCE, formatting
Requires at least: 3.3
Tested up to: 3.6
Stable tag: 1.2.1
License: GPLv3
License URI: http://www.gnu.org/licenses/gpl.html

A Wordpress plugin which swaps out the textarea used for excerpts with a TinyMCE editor instance.

== Description ==

The Plugin uses the [wp_editor](http://codex.wordpress.org/Function_Reference/wp_editor) function to generate a rich text editor for page/post excerpts, so **will only work in Wordpress 3.3 or greater**.

The plugin utilises three action hooks:

* [add_meta_boxes](http://adambrown.info/p/wp_hooks/hook/add_meta_boxes) is used to remove the excerpt meta box generated by Wordpress
* [edit_form_advanced](http://adambrown.info/p/wp_hooks/hook/edit_form_advanced) and [edit_page_form](http://adambrown.info/p/wp_hooks/hook/edit_page_form) are used to add the excerpt editor to posts and pages - see the [Notes section on the Codex page for wp_editor](http://codex.wordpress.org/Function_Reference/wp_editor).

**Note:** the new editing box cannot be placed in a sortable, movable meta box because of an issue with using TinyMCE in sortables documented here:

http://core.trac.wordpress.org/ticket/19173

The editing box for excerpts uses [wp_editor](http://codex.wordpress.org/Function_Reference/wp_editor) to create a rich text editor. You can set the options for the rich text editor in the plugin options page (in the Wordpress  Settings menu).

The plugin also contains two filters which act on the "teeny" MCE editor instance which is used by default. The plugins and buttons used by the minimal editor can also be customised on the plugin options page. 

== Installation ==

1. Upload the plugin to the `/wp-content/plugins/` directory
2. Activate the plugin through the 'Plugins' menu in WordPress
3. Configure the plugin using the Plugin options page under the Settings menu

If you want to use excerpts in pages, add this to your theme's `functions.php` file:

`add_post_type_support('pages', 'excerpt');`

See [add_post_type_support](add_post_type_support) in the Codex for details.

If you want to use excerpts in Custom Post Types, do it when you create them using the `supports` array in the arguments for [register_post_type](http://codex.wordpress.org/Function_Reference/register_post_type).


== Changelog ==

= 1.2.1 =
* removed a debugging setting from the plugin which set the `textarea_rows` to 20. Setting `textarea_rows` in `wp_editor()` doesn't appear to have any effect anyway
* tidied up javascript and added error checking for selection of post types
* additional error checking in the validation routine

= 1.2 =
* Added translations (no idea whether these work though!)
* Fixed some bugs in plugin options saving/retrieval
* Fixed post type support
* Put the editor in a container (suggestion from Chris Van Patten)
* changed screenshot

= 1.1 =
* Addition of plugin options page to Wordpress Admin area, giving users the ability to configure the operation of the plugin
* Fixed minor bug relating to editor display which was triggered in some circumstances

= 1.0 =
* Wordpress submission after [initial development on bitbucket](https://bitbucket.org/bjorsq/rich-text-excerpts).

== Screenshots ==

1. A screenshot showing the rich text editor in a post excerpt

== Contribute ==

At the moment, the plugin uses [html_entity_decode](http://php.net/manual/en/function.html-entity-decode.php) to decode encoded entities in the excerpt content prior to displaying it in the editor. It would be nice to find a more robust way of accessing the excerpt field data using a Wordpress filter.

If you can translate this plugin, please get in touch - there is a POT file with the plugin for translators to use. I've made translations using Google translate, but not sure if these are any good.